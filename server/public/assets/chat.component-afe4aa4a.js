import{R as g,j as a,r as c}from"./index-2e4ade21.js";var p,k=new Uint8Array(16);function I(){if(!p&&(p=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!p))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return p(k)}const R=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function E(e){return typeof e=="string"&&R.test(e)}var i=[];for(var v=0;v<256;++v)i.push((v+256).toString(16).substr(1));function M(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase();if(!E(n))throw TypeError("Stringified UUID is invalid");return n}function x(e,t,n){e=e||{};var r=e.random||(e.rng||I)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return M(r)}var z={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},N=g.createContext&&g.createContext(z),u=globalThis&&globalThis.__assign||function(){return u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},u.apply(this,arguments)},$=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};function S(e){return e&&e.map(function(t,n){return g.createElement(t.tag,u({key:n},t.attr),S(t.child))})}function y(e){return function(t){return g.createElement(L,u({attr:u({},e.attr)},t),S(e.child))}}function L(e){var t=function(n){var r=e.attr,s=e.size,m=e.title,d=$(e,["attr","size","title"]),o=s||n.size||"1em",h;return n.className&&(h=n.className),e.className&&(h=(h?h+" ":"")+e.className),g.createElement("svg",u({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,d,{className:h,style:u(u({color:e.color||n.color},n.style),e.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),m&&g.createElement("title",null,m),e.children)};return N!==void 0?g.createElement(N.Consumer,null,function(n){return t(n)}):t(z)}function O(e){return y({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}},{tag:"path",attr:{fillRule:"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"}}]})(e)}function F(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3.741 1.408l18.462 10.154a.5.5 0 0 1 0 .876L3.741 22.592A.5.5 0 0 1 3 22.154V1.846a.5.5 0 0 1 .741-.438zM5 13v6.617L18.85 12 5 4.383V11h5v2H5z"}}]}]})(e)}function _(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M14.828 7.757l-5.656 5.657a1 1 0 1 0 1.414 1.414l5.657-5.656A3 3 0 1 0 12 4.929l-5.657 5.657a5 5 0 1 0 7.071 7.07L19.071 12l1.414 1.414-5.657 5.657a7 7 0 1 1-9.9-9.9l5.658-5.656a5 5 0 0 1 7.07 7.07L12 16.244A3 3 0 1 1 7.757 12l5.657-5.657 1.414 1.414z"}}]}]})(e)}function A(e){return y({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M18.031 16.617l4.283 4.282-1.415 1.415-4.282-4.283A8.96 8.96 0 0 1 11 20c-4.968 0-9-4.032-9-9s4.032-9 9-9 9 4.032 9 9a8.96 8.96 0 0 1-1.969 5.617zm-2.006-.742A6.977 6.977 0 0 0 18 11c0-3.868-3.133-7-7-7-3.868 0-7 3.132-7 7 0 3.867 3.132 7 7 7a6.977 6.977 0 0 0 4.875-1.975l.15-.15z"}}]}]})(e)}const H=({searchField:e,setSearchField:t,isFocused:n,setIsFocused:r})=>{const s=d=>{t(d.target.value)},m=()=>{r(d=>!d)};return a.jsxs("div",{className:"relative mt-3",children:[a.jsx(A,{className:`text-gray-400 absolute top-1/2 left-2 -translate-y-1/2 transition-opacity duration-100 ${n?"opacity-0":"opacity-100"}`,size:18}),a.jsx("input",{className:`pr-4 py-2 w-full border border-gray-300 rounded-md focus:outline-none ${n?"pl-4":"pl-8"}`,type:"search",placeholder:"Search",onFocus:m,onBlur:m,onChange:s,value:e})]})},b=({friend:{name:e,online:t,color:n,nick:r}})=>a.jsxs("div",{className:"flex items-center mb-1 py-2 last:mb-0 cursor-pointer hover:bg-gray-200 rounded",children:[a.jsx("span",{className:`relative select-none w-10 h-10 rounded-full mx-3 grid place-items-center ${t?"before:bg-green-400 before:rounded-full before:w-3 before:h-3 before:absolute before:bottom-0 before:right-0":""} ${n}`,children:r}),a.jsx("h4",{className:"text-xl",children:e})]}),V=({group:e,membersNo:t})=>a.jsxs("div",{className:"flex items-center cursor-pointer hover:bg-gray-200 py-2",children:[a.jsx("div",{className:"relative w-10 h-10 mx-3",children:e.map((n,r)=>a.jsx("span",{className:`rounded-full absolute w-2/3 h-2/3 border border-black text-sm grid place-items-center ${n.color} ${r===0?"bottom-0 right-0":"top-0 left-0"} ${n.online?"before:bg-green-400 before:rounded-full before:w-[10px] before:h-[10px] before:absolute before:-bottom-[2px] before:-right-[2px]":""}`,children:n.nick},n.name))}),a.jsx("h4",{className:"text-md",children:`${e[0].name}, ${e[1].name}${t>2?`, ${t-2} others`:""}`})]}),Z=[{id:1,sender:"sender",content:"Hello, how are you?",timestamp:"2023-05-16T10:30:00Z"},{id:2,sender:"reciver",content:"I am doing great, thank you! How about you?",timestamp:"2023-05-16T10:31:00Z"},{id:3,sender:"sender",content:"I am good too. Just enjoying the day.",timestamp:"2023-05-16T10:32:00Z"},{id:4,sender:"reciver",content:"That sounds wonderful!",timestamp:"2023-05-16T10:33:00Z"},{id:5,sender:"sender",content:"By the way, have you seen the latest movie?",timestamp:"2023-05-16T10:34:00Z"},{id:6,sender:"reciver",content:"Yes, I watched it last weekend. It was amazing!",timestamp:"2023-05-16T10:35:00Z"},{id:7,sender:"sender",content:"I need to watch it soon. Thanks for the recommendation!",timestamp:"2023-05-16T10:36:00Z"},{id:8,sender:"reciver",content:"You're welcome! Let me know your thoughts after watching it.",timestamp:"2023-05-16T10:37:00Z"},{id:9,sender:"reciver",content:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Ipsam, saepe architecto magnam ducimus consequuntur dolor alias quam laudantium molestiae magni consequatur. Deserunt fugiat maiores tempora ipsum aperiam repudiandae id a.",timestamp:"2023-05-16T10:37:00Z"}],j="sender",P=({friend:e})=>{const[t,n]=c.useState(Z),[r,s]=c.useState(""),[m,d]=c.useState(null);c.useState(""),c.useState("");const o=c.useRef(null);c.useEffect(()=>{const l=o.current;l&&l.scrollIntoView({behavior:"smooth",block:"start"})},[t]);const h=l=>{l.target.files&&d(l.target.files[0])},w=()=>{s(""),n(l=>[...l,{id:l[l.length-1].id+1,sender:j,content:r,timestamp:new Date().toString()}])},T=l=>{l.key==="Enter"&&w()};return a.jsxs("div",{className:" flex flex-col flex-1 overflow-y-auto max-h-screen",children:[a.jsx("div",{className:"bg-gray-50 sticky top-0 py-1 px-4",children:a.jsx(b,{friend:e})}),a.jsxs("div",{className:"px-3 flex-col flex-1 bg-white",children:[t.map(l=>a.jsx("div",{className:`flex last:mb-0 mb-3 ${l.sender===j?"justify-end":"justify-start"}`,children:a.jsx("div",{className:`rounded-lg p-2 max-w-[70%] ${l.sender===j?"bg-blue-500 text-white":"bg-gray-100"}`,children:l.content})},l.id)),a.jsx("div",{ref:o})]}),a.jsxs("div",{className:"p-3 sticky bottom-0 flex items-center bg-white",children:[a.jsx("input",{type:"text",name:"",autoFocus:!0,placeholder:"Type your message here",className:"border border-gray-300 rounded-md py-2 px-3 focus:outline-none flex-1",value:r,onChange:l=>s(l.target.value),onKeyDown:T}),a.jsxs("button",{className:"mx-2 bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md",children:[a.jsx("input",{type:"file",onChange:h,className:"hidden",id:"file-input"}),a.jsx("label",{htmlFor:"file-input",children:a.jsx(_,{size:18})})]}),a.jsx("button",{className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md",onClick:w,children:a.jsx(F,{size:18})})]})]})},C=["bg-red-500","bg-green-500","bg-blue-500","bg-orange-500","bg-yellow-500","bg-cyan-500","bg-voilet-500","bg-purple-500","bg-pink-500","bg-rose-500"],D=["fezza","jessy","petra","hala","fady","peter"],U=()=>C[Math.floor(Math.random()*C.length)],f=D.map(e=>({name:e,online:Math.random()<.5,color:U(),nick:e.slice(0,2).toUpperCase()})),q=[0,3,[0,3],5,[2,4,6],[1],0,3,[0,3],5,[2,4,6],[1]],W=()=>{const[e,t]=c.useState(""),[n,r]=c.useState(!1),[s,m]=c.useState(0),d=f.filter(o=>o.name.startsWith(e));return a.jsxs("div",{className:"flex min-h-screen h-full",children:[a.jsxs("div",{className:"w-1/3 min-w-[250px] px-4 pb-4 bg-gray-100 border-r border-r-gray-300",children:[a.jsxs("div",{className:"sticky top-0 bg-gray-100 z-50 py-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl",children:"Chats"}),a.jsx(O,{className:"cursor-pointer text-xl"})]}),a.jsx(H,{searchField:e,setSearchField:t,isFocused:n,setIsFocused:r})]}),a.jsx("div",{className:"overflow-y-auto max-h-[calc(100vh-135px)]",children:e?d.map(o=>a.jsx(b,{friend:o},x())):n?null:q.map(o=>typeof o=="number"?a.jsx(b,{friend:f[o]},x()):(o==null?void 0:o.length)===1?a.jsx(b,{friend:f[o[0]]},x()):a.jsx(V,{group:[f[o[0]],f[o[1]]],membersNo:o.length},x()))})]}),a.jsx(P,{friend:f[s]})]})};export{W as default};
